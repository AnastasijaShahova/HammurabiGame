# HammurabiGame

## Правила игры
Игра состоит из 10 раундов, в течение которых игрок, выступающий в роли правителя древнего Вавилона Хаммурапи, распоряжается ресурсами города. Ресурсами являются: население, акры земли и бушели пшеницы. Каждый раунд представляет один год правления. Каждый гражданин возделывает некоторое количество акров земли, в результате чего производится некоторое количество бушелей пшеницы. Эта пшеница может использоваться либо в качестве еды для граждан (которые при недостатке еды умирают от голода), либо в качестве семян для посева урожая на следующий год. Игрок также может покупать и продавать землю, используя пшеницу как валюту.
Каждый раунд начинается с доклада советника «Мой повелитель, соизволь поведать тебе» о текущем состоянии дел в городе, состоящем из
 
сборов пшеницы за прошлый год, акрах земли, занимаемых городом, и изменении в населении. После чего, советник спрашивает, сколько земли необходимо купить или продать в этом году, сколько пшеницы использовать на семена, и сколько пшеницы использовать в качестве еды. Игрок отвечает на эти вопросы вводя целые числа.
Игра скрывает от игрока некоторую часть важной информации: правила и коэффициенты расчета параметров за раунд, но это сделано намеренно. Подбор этих параметров является частью игрового процесса.
Разнообразие игре обеспечивает генератор случайных чисел. Цена земли определяется случайным образом в начале каждого раунда. Так же случайным образом определяются количество бушелей пшеницы собранных с каждого акра земли, количество пшеницы, съеденной крысами, и количество новых граждан, прибывших в город в прошлом году. В каждом году есть некоторая вероятность чумы, уменьшающей население города наполовину.
Игра заканчивается после 10 раундов, или ранее, если все население города вымрет, или более 45 процентов населения умрут от голода в течение одного раунда.

## Алгоритм

Игра начинается со следующими параметрами:
● Вгородепроживает100человек
● Взакромахгорода2800бушелейпшеницы ● Городзанимает1000акровземли
В начале каждого раунда игрок видит
● Номерраунда
● Количестволюдей,умершихотголода(еслинебыло,тоне
показывается)
● Количестволюдей,приехавшихвгород(еслинебыло,тоне
показывается)
● Былаличума
● Текущеенаселениегорода
● Скольковсегопшеницыбылособраноисколькопшеницыбыло
получено с акра
● Сколькопшеницыуничтожиликрысы
● Сколькоакровсейчасзанимаетгород
● Каковаценаодногоакраземливэтомгоду
Цена акра определяется случайно в начале каждого раунда из диапазона от 17 до 26
Затем игрок вводит:
● Количествоакровземли,которыеонхочеткупить
● Количествоакровземли,которыеонхочетпродать
● Количествобушелейпшеницы,которыебудутиспользованыв
качестве еды
● Количествоакровземли,которыенеобходимозасеятьпшеницей
Игра контролирует вводимые значения, и, если значения оказываются некорректными (например, количество земли, которое хочет купить игрок не может быть оплачено имеющимся пшеницей, или введено отрицательное количество акров земли), выводит соответствующие предупреждения.
Для контроля используются следующие значения (некоторые из них скрыты от игрока, он должен определить их сам):
● Продажаипокупказемливыполняютсяпотекущейцене
● Каждыйжительпотребляет20бушелейпшеницывгод
● Каждыйжительможетобрабатыватьмаксимум10акровземли ● Каждыйакртребует.5бушелейпшеницынасемена
Переход к следующему раунду определяется правилами
● Количествопшеницы,собранногосакраопределяетсяслучайноиз диапазона от 1 до 6
● Крысысъедаютслучайноеколичествопшеницыиздиапазонаот0до 0.07*имеющееся количество бушелей с учетом сборов
● Каждыйжительпотребляет20бушелейпшеницывраунд,те,комуне хватает еды, умирают от голода
● Еслизараундумерлиотголодаболее45%населения,игроксразуже проигрывает
● Количествовновьприбывшихопределяетсяпоформуле: умерших_от_голода /2 + (5 – сбор_с_акра) * бушелей_пшеницы / 600 + 1
затем , если это количество меньше 0, берется 0, если больше 50, то
50
● Чумавозникаетсвероятностью15%,еслиэтопроисходит,то население уменьшается наполовину с округлением вниз
После 10 раунда игра вычисляет следующие статистики: ● СреднегодовойпроцентумершихотголодаP
● КоличествоакровземлинаодногожителяL
и выставляет игроку оценку по результатам правления:
● ЕслиP>33%иL<7–плохо(«Из-завашейнекомпетентностив управлении, народ устроил бунт, и изгнал вас их города. Теперь вы вынуждены влачить жалкое существование в изгнании»)
● ЕслиP>10%иL<9–удовлетворительно(«Выправилижелезной рукой, подобно Нерону и Ивану Грозному. Народ вздохнул с облегчением, и никто больше не желает видеть вас правителем»)
● ЕслиP>3%иL<10–хорошо(«Высправилисьвполненеплохо,увас, конечно, есть недоброжелатели, но многие хотели бы увидеть вас во главе города снова»)
● Впротивномслучае–отлично(«Фантастика!КарлВеликий, Дизраэли и Джефферсон вместе не справились бы лучше»)


## Пример раунда

Мой повелитель, да начнется же твое правление.Впереди нас ждет очень непростой  первый год.
	На данный момент население твоего города 100 человек.
	Город занимает 1000 акров земли
	У нас имеется 2800 бушелей пшеницы
	Один акр земли стоит 23 бушелей
Сколько акров земли ты хочешь купить? 
20
Сколько акров земли ты хочешь продать? 0
Сколько бушелей пшеницы ты хочешь использовать в качестве еды? 
1200
Сколько акров земли ты хочешь засеять? 
900
Выйти с сохранением? (y/n) 
n
Мой повелитель, да начнется же твой 2 год правления
	Чума уничтожила половину населения; 
	На данный момент население  города составляет 45 человек.
	Мы собрали 1800 бушелей пшеницы, по 2 бушеля с акра
	Крысы истребили 69 бушелей пшеницы, оставив 2881 бушеля в амбарах
	Город занимает 1020 акров земли
	Один акр земли стоит 24 бушелей
Сколько акров земли ты хочешь купить? 
12
Сколько акров земли ты хочешь продать? 2
Сколько бушелей пшеницы ты хочешь использовать в качестве еды? 
1300
Сколько акров земли ты хочешь засеять? 
11
Выйти с сохранением? (y/n) 
n
Мой повелитель, да начнется же твой 3 год правления
	На данный момент население  города составляет 46 человек.
	Мы собрали 55 бушелей пшеницы, по 5 бушеля с акра
	Крысы истребили 20 бушелей пшеницы, оставив 1658 бушеля в амбарах
	Город занимает 1030 акров земли
	Один акр земли стоит 25 бушелей
Сколько акров земли ты хочешь купить? 
